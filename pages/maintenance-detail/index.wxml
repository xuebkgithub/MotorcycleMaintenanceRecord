<view class="maintenance-detail-page">
  <!-- 加载状态 -->
  <view class="loading-state" wx:if="{{loading}}">
    <text class="loading-text">加载中...</text>
  </view>

  <!-- 未找到记录 -->
  <view class="not-found-state" wx:elif="{{notFound}}">
    <text class="not-found-text">记录不存在</text>
    <t-button theme="primary" size="medium" bind:tap="onBackToList" style="margin-top: 32rpx;">
      返回列表
    </t-button>
  </view>

  <!-- 详情内容 -->
  <view class="detail-content" wx:else>
    <!-- 头部信息 -->
    <view class="detail-header">
      <view class="header-type">{{record.type}}</view>
      <view class="header-cost">¥{{record.cost}}</view>
    </view>

    <!-- 基本信息 -->
    <t-cell-group title="基本信息">
      <t-cell title="日期" note="{{record.date}}" />
      <t-cell title="里程" note="{{record.mileage}}km" />
      <t-cell title="费用" note="¥{{record.cost}}" />
    </t-cell-group>

    <!-- 保养项目 -->
    <t-cell-group title="保养项目" wx:if="{{record.items && record.items.length > 0}}">
      <view class="items-list">
        <view class="item-tag" wx:for="{{record.items}}" wx:key="index">
          <t-icon name="check-circle" size="32rpx" color="var(--td-success-color-6)" />
          <text class="item-text">{{item}}</text>
        </view>
      </view>
    </t-cell-group>

    <!-- 备注信息 -->
    <t-cell-group title="备注" wx:if="{{record.note}}">
      <t-cell title="" note="{{record.note}}" />
    </t-cell-group>

    <!-- 底部按钮栏 -->
    <view class="detail-footer">
      <t-button theme="light" size="large" bind:tap="onBackToList">
        返回
      </t-button>
      <t-button theme="primary" size="large" bind:tap="onEdit">
        编辑
      </t-button>
      <t-button theme="default" size="large" bind:tap="onDelete">
        删除
      </t-button>
    </view>
  </view>

  <!-- 删除确认对话框 -->
  <t-dialog
    visible="{{showDeleteDialog}}"
    title="确认删除"
    content="删除后无法恢复，确定要删除这条保养记录吗？"
    confirm-btn="删除"
    cancel-btn="取消"
    bind:confirm="onConfirmDelete"
    bind:cancel="onCancelDelete"
  />
</view>
